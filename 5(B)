
import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
void main() {
 runApp(
 ChangeNotifierProvider(
 create: (context) => CounterProvider(),
 child: const MyApp(),
 ),
 );
}
class MyApp extends StatelessWidget {
 const MyApp({super.key});
 @override
 Widget build(BuildContext context) {
 return MaterialApp(
 debugShowCheckedModeBanner: false,
 title: 'setState & Provider Example',
 home: const HomeScreen(),
 );
 }
}
class HomeScreen extends StatelessWidget {
 const HomeScreen({super.key});
 @override
 Widget build(BuildContext context) {
 return Scaffold(
 appBar: AppBar(title: const Text('setState vs Provider')),
 body: Center(
 child: Column(
 mainAxisAlignment: MainAxisAlignment.center,
 children: const [
 LocalCounterWidget(),
 SizedBox(height: 40),
 GlobalCounterWidget(),
 ],
 ),
 ),
 );
 }
}
class LocalCounterWidget extends StatefulWidget {
 const LocalCounterWidget({super.key});
 @override
 State<LocalCounterWidget> createState() => _LocalCounterWidgetState();
}
class _LocalCounterWidgetState extends State<LocalCounterWidget> {
 int _count = 0;
 @override
 Widget build(BuildContext context) {
 return Column(
 children: [
 Text(
 'Local Counter: $_count',
 style: const TextStyle(fontSize: 20, color: Colors.blue),
 ),
 const SizedBox(height: 10),
 ElevatedButton(
 onPressed: () {
 setState(() {
 _count++;
 });
 },
 child: const Text('Increment (setState)'),
 ),
 ],
 );
 }
}
class CounterProvider extends ChangeNotifier {
 int _count = 0;
 int get count => _count;
 void increment() {
 _count++;
 notifyListeners();
 }
}
class GlobalCounterWidget extends StatelessWidget {
 const GlobalCounterWidget({super.key});
 @override
 Widget build(BuildContext context) {
 final counter = Provider.of<CounterProvider>(context);
 return Column(
 children: [
 Text(
 'Global Counter: ${counter.count}',
 style: const TextStyle(fontSize: 20, color: Colors.green),
 ),
 const SizedBox(height: 10),
 ElevatedButton(
 onPressed: counter.increment,
 child: const Text('Increment (Provider)'),
 ),
 ],
 );
 }
}
