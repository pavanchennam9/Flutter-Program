
import 'package:flutter/material.dart';
void main() {
runApp(const MyApp());
}
class MyApp extends StatelessWidget {
const MyApp({super.key});
@override
Widget build(BuildContext context) {
return MaterialApp(
debugShowCheckedModeBanner: false,
title: 'Form Validation Demo',
theme: ThemeData(
primarySwatch: Colors.deepPurple,
),
home: const FormValidationExample(),
);
}
}
class FormValidationExample extends StatefulWidget {
const FormValidationExample({super.key});
@override
State<FormValidationExample> createState() => _FormValidationExampleState();
}
class _FormValidationExampleState extends State<FormValidationExample> {
// Create a key that uniquely identifies the form
final _formKey = GlobalKey<FormState>();
// Text controllers for input fields
final nameController = TextEditingController();
final emailController = TextEditingController();
final phoneController = TextEditingController();
final passwordController = TextEditingController();
// Function to handle form submission
void _submitForm() {
if (_formKey.currentState!.validate()) {
// If all fields are valid
ScaffoldMessenger.of(context).showSnackBar(
const SnackBar(
content: Text('Form submitted successfully! '),
backgroundColor: Colors.green,
),
);
} else {
// If any field is invalid
ScaffoldMessenger.of(context).showSnackBar(
const SnackBar(
content: Text('Please fix the errors in red '),
backgroundColor: Colors.redAccent,
),
);
}
}
@override
Widget build(BuildContext context) {
return Scaffold(
appBar: AppBar(
title: const Text("Form Validation & Error Handling"),
centerTitle: true,
),
body: Padding(
padding: const EdgeInsets.all(16),
child: Form(
key: _formKey, // Assign the form key
child: SingleChildScrollView(
child: Column(
children: [
// Name Field
TextFormField(
controller: nameController,
decoration: const InputDecoration(
labelText: "Full Name",
prefixIcon: Icon(Icons.person),
border: OutlineInputBorder(),
),
validator: (value) {
if (value == null || value.isEmpty) {
return "Please enter your name";
}
return null;
},
),
const SizedBox(height: 16),
// Email Field
TextFormField(
controller: emailController,
decoration: const InputDecoration(
labelText: "Email",
prefixIcon: Icon(Icons.email),
border: OutlineInputBorder(),
),
keyboardType: TextInputType.emailAddress,
validator: (value) {
if (value == null || value.isEmpty) {
return "Please enter your email";
} else if (!RegExp(r'^[^@]+@[^@]+\.[^@]+').hasMatch(value)) {
return "Enter a valid email address";
}
return null;
},
),
const SizedBox(height: 16),
// Phone Field
TextFormField(
controller: phoneController,
decoration: const InputDecoration(
labelText: "Phone Number",
prefixIcon: Icon(Icons.phone),
border: OutlineInputBorder(),
),
keyboardType: TextInputType.phone,
validator: (value) {
if (value == null || value.isEmpty) {
return "Please enter your phone number";
} else if (value.length != 10) {
return "Phone number must be 10 digits";
}
return null;
},
),
const SizedBox(height: 16),
// Password Field
TextFormField(
controller: passwordController,
decoration: const InputDecoration(
labelText: "Password",
prefixIcon: Icon(Icons.lock),
border: OutlineInputBorder(),
),
obscureText: true,
validator: (value) {
if (value == null || value.isEmpty) {
return "Please enter your password";
} else if (value.length < 6) {
return "Password must be at least 6 characters";
}
return null;
},
),
const SizedBox(height: 24),
// Submit Button
ElevatedButton(
style: ElevatedButton.styleFrom(
padding:
const EdgeInsets.symmetric(horizontal: 40, vertical: 15),
shape: RoundedRectangleBorder(
borderRadius: BorderRadius.circular(12)),
),
onPressed: _submitForm,
child: const Text(
"Submit",
style:
TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
),
),
],
),
),
), ),
);
}}
